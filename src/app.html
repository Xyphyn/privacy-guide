<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <script defer type="">
            console.log('Setting dark theme')
            const dark = () =>
                localStorage.theme == 'dark' ||
                ((!localStorage.theme || localStorage.theme == 'system') &&
                    window.matchMedia('(prefers-color-scheme: dark)').matches)

            if (dark()) {
                document.documentElement.classList.add('dark')
            } else {
                document.documentElement.classList.remove('dark')
            }

            window
                .matchMedia('(prefers-color-scheme: dark)')
                .addEventListener('change', (event) => {
                    if (dark()) {
                        document.documentElement.classList.add('dark')
                    } else {
                        document.documentElement.classList.remove('dark')
                    }
                })
        </script>
        <meta charset="utf-8" />
        <link rel="icon" href="%sveltekit.assets%/favicon.png" />
        <link
            rel="alternate icon"
            href="%sveltekit.assets%/favicon-dark.png"
            media="(prefers-color-scheme: dark)"
        />
        <meta name="viewport" content="width=device-width" />
        <meta
            name="description"
            content="James, a hobbyist developer's website."
        />

        %sveltekit.head%
    </head>
    <body data-sveltekit-preload-data="hover">
        <div style="display: contents">%sveltekit.body%</div>
    </body>
</html>
